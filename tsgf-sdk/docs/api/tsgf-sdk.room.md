<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [tsgf-sdk](./tsgf-sdk.md) &gt; [Room](./tsgf-sdk.room.md)

## Room class

房间功能模块

\[同时只能在一个房间中\]

如果用了 GroupRoom , 则在相关事件中需要使用 if(GroupRoom.ins.currGroupRoom) 来判断当前是在组队房间中

**Signature:**

```typescript
export declare class Room 
```

## Constructors

<table><thead><tr><th>

Constructor


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[(constructor)(game)](./tsgf-sdk.room._constructor_.md)


</td><td>


</td><td>

Constructs a new instance of the `Room` class


</td></tr>
</tbody></table>

## Properties

<table><thead><tr><th>

Property


</th><th>

Modifiers


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[\_roomWaitReconnectTime?](./tsgf-sdk.room._roomwaitreconnecttime.md)


</td><td>

`protected`


</td><td>

number


</td><td>

_(Optional)_


</td></tr>
<tr><td>

[currRoomInfo](./tsgf-sdk.room.currroominfo.md)


</td><td>

`readonly`


</td><td>

[IRoomInfo](./tsgf-sdk.iroominfo.md) \| null


</td><td>

获取当前所在房间信息


</td></tr>
<tr><td>

[enabledReconnect](./tsgf-sdk.room.enabledreconnect.md)


</td><td>


</td><td>

boolean


</td><td>

是否启用断线重连,启用则在断开后,reconnectWaitSec秒后重连


</td></tr>
<tr><td>

[events](./tsgf-sdk.room.events.md)


</td><td>

`readonly`


</td><td>

[RoomEvents](./tsgf-sdk.roomevents.md)


</td><td>

房间的所有事件


</td></tr>
<tr><td>

[ins](./tsgf-sdk.room.ins.md)


</td><td>

`static`


</td><td>

[Room](./tsgf-sdk.room.md)


</td><td>

单例


</td></tr>
<tr><td>

[myPlayerInfo](./tsgf-sdk.room.myplayerinfo.md)


</td><td>

`readonly`


</td><td>

[IPlayerInfo](./tsgf-sdk.iplayerinfo.md) \| null


</td><td>

在房间中才有的当前玩家信息对象, 请不要保存本属性, 因为每次数据有更新都会改变引用, 请每次都读取本属性


</td></tr>
<tr><td>

[reconnectWaitSec](./tsgf-sdk.room.reconnectwaitsec.md)


</td><td>


</td><td>

number


</td><td>

断线重连等待秒数


</td></tr>
<tr><td>

[roomWaitReconnectTime](./tsgf-sdk.room.roomwaitreconnecttime.md)


</td><td>


</td><td>

number \| undefined


</td><td>

可设置房间中断线后等待重连的毫秒数(认证和重连时使用),默认为60000ms(60秒),设成0表示断线后直接清理(按退出房间处理)不等待重连


</td></tr>
</tbody></table>

## Methods

<table><thead><tr><th>

Method


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[cancelMatchFromPlayers(matchReqId)](./tsgf-sdk.room.cancelmatchfromplayers.md)


</td><td>


</td><td>

取消单独的玩家匹配, 也会触发匹配回调. 同时因为有并发可能, 即在结果已出即将收到时,提交取消成功,但还是会触发匹配成功的回调


</td></tr>
<tr><td>

[changeCustomPlayerProfile(customPlayerProfile, robotPlayerId)](./tsgf-sdk.room.changecustomplayerprofile.md)


</td><td>


</td><td>

修改自己的玩家自定义属性,如果当前在房间中会同时会触发通知(房间中所有玩家)


</td></tr>
<tr><td>

[changeCustomPlayerStatus(customPlayerStatus, robotPlayerId)](./tsgf-sdk.room.changecustomplayerstatus.md)


</td><td>


</td><td>

修改自己的玩家自定义状态,如果当前在房间中会同时会触发通知(房间中所有玩家)


</td></tr>
<tr><td>

[changePlayerTeam(newTeamId, robotPlayerId)](./tsgf-sdk.room.changeplayerteam.md)


</td><td>


</td><td>

变更自己所在队伍


</td></tr>
<tr><td>

[changeRoom(changePara)](./tsgf-sdk.room.changeroom.md)


</td><td>


</td><td>

修改房间信息(注意,只能房主操作),同时同步更新本地当前房间信息


</td></tr>
<tr><td>

[createRoom(playerPara, roomPara, teamId)](./tsgf-sdk.room.createroom.md)


</td><td>


</td><td>

创建一个自定义房间并进入, 成功则可使用 this.currRoomInfo 可获取当前所在的房间信息


</td></tr>
<tr><td>

[createRoomRobot(createPa, teamId)](./tsgf-sdk.room.createroomrobot.md)


</td><td>


</td><td>

玩家创建房间机器人(退出房间会同步退出)


</td></tr>
<tr><td>

[dismissRoom()](./tsgf-sdk.room.dismissroom.md)


</td><td>


</td><td>

【仅房主】解散当前房间


</td></tr>
<tr><td>

[dispose()](./tsgf-sdk.room.dispose.md)


</td><td>


</td><td>


</td></tr>
<tr><td>

[filterRooms(filter, skip, limit)](./tsgf-sdk.room.filterrooms.md)


</td><td>


</td><td>

筛选在线房间列表（不进入房间也可以获取）


</td></tr>
<tr><td>

[getOnlineRoomInfo(roomId)](./tsgf-sdk.room.getonlineroominfo.md)


</td><td>


</td><td>

获取房间在线信息（不进入房间也可以获取）


</td></tr>
<tr><td>

[joinOrCreateRoom(playerPara, joinRoomPara, matchOrCreateRoomPara)](./tsgf-sdk.room.joinorcreateroom.md)


</td><td>


</td><td>

加入或创建指定条件的房间, 服务器存在指定条件并且未满房间, 则优先加入房间, 否则创建同条件的房间, 可能存在创建失败(匹配条件的房间超过服务器限额)


</td></tr>
<tr><td>

[joinRoom(playerPara, roomId, teamId)](./tsgf-sdk.room.joinroom.md)


</td><td>


</td><td>

加入指定房间, 成功则可使用 this.currRoomInfo 可获取当前所在的房间信息


</td></tr>
<tr><td>

[joinRoom(playerPara, joinRoomPara)](./tsgf-sdk.room.joinroom_1.md)


</td><td>


</td><td>

加入指定房间, 成功则可使用 this.currRoomInfo 可获取当前所在的房间信息


</td></tr>
<tr><td>

[joinRoomByServer(gameServerUrl, playerPara, roomId, teamId)](./tsgf-sdk.room.joinroombyserver.md)


</td><td>


</td><td>

加入指定游戏服务器的房间, 成功则可使用 this.currRoomInfo 可获取当前所在的房间信息


</td></tr>
<tr><td>

[joinRoomByServer(gameServerUrl, playerPara, para)](./tsgf-sdk.room.joinroombyserver_1.md)


</td><td>


</td><td>

加入指定游戏服务器的房间, 成功则可使用 this.currRoomInfo 可获取当前所在的房间信息


</td></tr>
<tr><td>

[kickPlayer(playerId)](./tsgf-sdk.room.kickplayer.md)


</td><td>


</td><td>

【仅房主】踢出房间玩家


</td></tr>
<tr><td>

[leaveRoom()](./tsgf-sdk.room.leaveroom.md)


</td><td>


</td><td>

退出当前房间


</td></tr>
<tr><td>

[playerSendSyncState(stateData, stateFrameIndex)](./tsgf-sdk.room.playersendsyncstate.md)


</td><td>


</td><td>

玩家发送本地的同步状态数据(有启用状态同步的时候才可以用)


</td></tr>
<tr><td>

[recoverPlayerRoom(updateShowName)](./tsgf-sdk.room.recoverplayerroom.md)


</td><td>


</td><td>

使用当前指定的玩家id和token，进行认证并尝试恢复之前所在房间(如果玩家之前在房间中断线的该房间还保留着玩家的信息才可以恢复)


</td></tr>
<tr><td>

[requestAfterFrames()](./tsgf-sdk.room.requestafterframes.md)


</td><td>


</td><td>

请求追帧数据(当前的所有帧数据\[+同步状态数据\])


</td></tr>
<tr><td>

[requestFrames(beginFrameIndex, endFrameIndex)](./tsgf-sdk.room.requestframes.md)


</td><td>


</td><td>

自主请求帧数组


</td></tr>
<tr><td>

[requestMatchFromPlayers(matchParamsFromPlayer, matchResultCallback)](./tsgf-sdk.room.requestmatchfromplayers.md)


</td><td>


</td><td>

\[在或不在房间中都可以发起匹配\] 发起单独的玩家匹配, 成功则返回 \[匹配请求id, 即 matchReqId\] , 指定匹配结果回调来获得本次匹配请求结果


</td></tr>
<tr><td>

[roomRobotLeave(robotPlayerId)](./tsgf-sdk.room.roomrobotleave.md)


</td><td>


</td><td>

玩家的指定房间机器人退出房间(即销毁)


</td></tr>
<tr><td>

[sendFrame(inpOperates, robotPlayerId)](./tsgf-sdk.room.sendframe.md)


</td><td>


</td><td>

发送玩家输入帧(加入到下一帧的操作列表)


</td></tr>
<tr><td>

[sendRoomMsg(roomMsg, robotPlayerId)](./tsgf-sdk.room.sendroommsg.md)


</td><td>


</td><td>

发送房间消息（自定义消息），可以指定房间里的全部玩家或部分玩家或其他玩家


</td></tr>
<tr><td>

[startFrameSync()](./tsgf-sdk.room.startframesync.md)


</td><td>


</td><td>

开始帧同步


</td></tr>
<tr><td>

[stopFrameSync()](./tsgf-sdk.room.stopframesync.md)


</td><td>


</td><td>

停止帧同步


</td></tr>
</tbody></table>
